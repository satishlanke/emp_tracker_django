{% extends "base.html" %}
{% block content %}


  <div class="container mt-3">
    <div class="row">
      <div class="col-6">
        <h2 class="page-title">Stage</h2>
        Project: 
        <a class="link-info" data-bs-toggle="collapse" href="#collapseProject" role="button" aria-expanded="false" aria-controls="collapseProject">
          Living with Science
        </a>
      </div>
      <div class="col-6 text-end">
        <div class="btn-group">
          <button type="submit" class="btn btn-success">Save</button>
        </div>
        <div class="btn-group" role="group">
          <button id="btnGroupDrop1" type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
            Add Stage
          </button>
          <ul class="dropdown-menu stage-list" aria-labelledby="btnGroupDrop1">
            <li><a class="dropdown-item add-stage-item" href="#">Formatting</a></li>
            <li><a class="dropdown-item add-stage-item" href="#">Scripting</a></li>
          </ul>
        </div>
      </div>
      <div class="col-12 mb-3">
        <div class="collapse" id="collapseProject">
          <div class="card card-body">
            Some placeholder content for the collapse component. This panel is hidden by default but revealed when the user activates the relevant trigger.
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container mt3">
    <div class="table-responsive">
      <form id="stageForm" action="stage.html" novalidate>
        <table class="table table-hover table-bordered stage-form-table">
          <thead class="table-light text-center">
            <tr>
              <th scope="col">ID</th>
              <th scope="col">Stage</th>
              <th scope="col">Index</th>
              <th scope="col">Chapter 1</th>
              <th scope="col">Chapter 2</th>
              <th scope="col">Chapter 3</th>
              <th scope="col">Appendix</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center">1</th>
              <td>Data</td>
              <td><input class="form-check-input bg-dark" type="checkbox" value="" id="flexCheckChecked" checked disabled></td>
              <td><input class="form-check-input bg-dark" type="checkbox" value="" id="flexCheckChecked" checked disabled></td>
              <td><input class="form-check-input bg-dark" type="checkbox" value="" id="flexCheckChecked" checked disabled></td>
              <td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked></td>
              <td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked></td>
            </tr>
            <tr>
              <td class="text-center">2</th>
              <td>Type Setting</td>
              <td><input class="form-check-input bg-dark" type="checkbox" value="" id="flexCheckChecked" checked disabled></td>
              <td><input class="form-check-input bg-dark" type="checkbox" value="" id="flexCheckChecked" checked disabled></td>
              <td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked></td>
              <td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked></td>
              <td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked></td>
            </tr>
            <tr>
              <td class="text-center">3</th>
              <td>Copy Editing</td>
              <td><input class="form-check-input bg-dark" type="checkbox" value="" id="flexCheckChecked" checked disabled></td>
              <td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked></td>
              <td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked></td>
              <td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked></td>
              <td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked></td>
            </tr>
            <tr>
              <td class="text-center">4</th>
              <td>Quality Control</td>
              <td><input class="form-check-input bg-dark" type="checkbox" value="" id="flexCheckChecked" checked disabled></td>
              <td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked"></td>
              <td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked"></td>
              <td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked></td>
              <td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked></td>
            </tr>
            <tr>
              <td class="text-center">5</th>
              <td>Quality Assurance</td>
              <td><input class="form-check-input bg-dark" type="checkbox" value="" id="flexCheckChecked" checked disabled></td>
              <td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked"></td>
              <td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked"></td>
              <td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked></td>
              <td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked></td>
            </tr>
          </tbody>
        </table>
      </form>
    </div>
  </div>

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function() {
      $(".add-stage-item").click(function(event) {
        var stageName = $(this).html();
        console.log(stageName);
        event.preventDefault();
        var stageEntryTemplate = '<tr><td class="text-center">4</th><td>' + stageName + '</td><td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked></td><td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked></td><td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked></td> <td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked></td> <td><input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked></td></tr>';
        
        $(".stage-form-table tbody").append(stageEntryTemplate);
        $(this).parents('li').remove();
        
      });
    });

  </script>
{% endblock %}